# 플러시

- 영속성 컨텍스트의 변경 내용을 데이터 베이스에 반영

### 플러시 발생
- 변경 감지
- 수정 된 엔티티 쓰기 지연 SQL 저장소에 등록
- 쓰기 지연 SQL 저장소에 쿼리를 데이터 베이스에 전송
    `등록, 수정, 삭제 쿼리`

### 플러시 하는 방법
- em.flush() 호출
- 트랜잭션 커밋 - 플러시 자동 호출
- JPQL 쿼리 실행 - 플러시 자동 호출
- 플러시를 해도 1차 캐시를 지우지 않는다

_**플러시를 해도 1차 캐시는 지워지지 않는다.
플러시 발생 시 행동만 하게 된다.**_

### 플러시 모드
- em.setFlushMode(FlushModeType.COMMIT)
    - 보통 건드릴 경우는 없다
    - 커밋 할때만 플러시
    
- 변경 하는 경우는 JPQL 쿼리를 날릴 때, 구지 플러시를 해서
쓰지 지연 SQL 저장소의 데이터를 가져올 필요가 없을때에는 도움이 될 수 있다

**권장은 그냥 AUTO 로 쓰자**
